<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Untitled Document</title>
    <link href="css/reset.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
</head>

<body>
	<script src="js/item.js"></script>
    <script>
        /*START GAME*/
        //an array to keep track of all the drops
        var drop_array = new Array();
        //instantiate one ground at bottom
        var ground = new Item("ground", 0, 500);
        ground.create();
        //start a named timer causing drops to generate every so often:
        var spawntimer = setInterval(spawnDrop,1000);
        //move all the drops
        var movetimer = setInterval(moveDrops,40);
        /* END GAME */
        
        /**
         * this method instantiates one raindrop
         */
        function spawnDrop(){   
            var another_drop = new Item("raindrop", Math.floor(Math.random()*720), -10);
            another_drop.create();
            drop_array.push(another_drop);
        }
        
         /**
         * this method loops through all raindrops through the drop array, add a little to their y position
         */
        function moveDrops(){   
            for(i=0; i<drop_array.length; i++){
                drop_array[i].y +=3;
                drop_array[i].item_on_page.style.top = drop_array[i].y + "px";
                //if drop is too far down
                    if(drop_array[i].y > 500){
                        //destroy it
                        drop_array[i].destroy();
                    }//end if drop too far down
            }//end for loop
        }//end function
        
    </script>
</body>
</html>
